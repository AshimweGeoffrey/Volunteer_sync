<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Volunteer Sync</title>
    <link rel="icon" href="assets/logo.svg" type="image/x-icon" />
    <link rel="stylesheet" href="css/project-detail.css" />
  </head>
  <body>
    <div class="header">
      <div class="logo">
        <img src="assets/logo-black.svg" alt="" />
        <p>VolunteerSync</p>
      </div>
      <div class="header-right">
        <div class="header-right-search search">
          <img src="assets/search.svg" alt="" />
          <input type="text" placeholder="Search" />
        </div>
        <div class="separator">|</div>
        <div class="header-right-icon">
          <img src="assets/notification icon.svg" alt="" />
          <img src="assets/1.jpeg" alt="" />
        </div>
      </div>
    </div>
    <div class="container">
      <div class="sidebar-main">
        <div class="sidebar">
          <h2>Policy daughter need kind miss artist truth trouble.</h2>
          <h4>Green Earth Society</h4>
          <div class="sidebar-item">
            <button>Apply</button>
          </div>
        </div>
      </div>
      <div>
        <!--home-->
        <div class="projects-home">
          <div class="projects-header">
            <img src="assets/arrow.svg" alt="" />
            <h2>Project Details</h2>
          </div>
        </div>
        <div class="details-main">
          <!-- Project Details -->
          <div class="details">
            <!-- project title-->
            <div>
              <h5>Project title</h5>
              <div class="details-title">
                <h2>Policy Daughter need kind miss artist Truth trouble.</h2>
                <p>not started</p>
              </div>
            </div>
            <!----organized----->
            <div class="details-organized">
              <p class="details-class">Organized By</p>
              <h3>Green Earth Society</h3>
            </div>
            <!---description--->
            <div class="details-description">
              <p class="details-class">Description</p>
              <h3>
                Join us in cleaning up the park and promoting environmental
                awareness. Join us in cleaning up the park and promoting
                environmental awareness. Join us in cleaning up the park and
                promoting environmental awareness.
              </h3>
            </div>
            <!---goals--->
            <div class="details-goals">
              <p class="details-class">Goals</p>
              <p>
                Join us in cleaning up the park and promoting environmental
                awareness. Join us in cleaning up the park and promoting
                environmental awareness. Join us in cleaning up the park and
                promoting environmental awareness.
              </p>
            </div>
            <!---location on map--->
            <div class="details-location">
              <p class="details-class">Location</p>
              <button>View On Map</button>
            </div>
            <!---date and time--->
            <div class="details-date">
              <div class="details-date-header">
                <p class="details-class">Time Commitment</p>
                <div class="details-date-header-term">
                  <p class="not-selected">Long</p>
                  <p class="selected">Short</p>
                </div>
              </div>
              <div class="details-date-box">
                <div class="details-date-box-item">
                  <p class="details-class">Start Date</p>
                  <div>
                    <img src="assets/Calendar.svg" alt="" />
                    <p>01/01/2024</p>
                  </div>
                </div>
                <div class="details-date-box-item">
                  <p class="details-class">End Date</p>
                  <div>
                    <img src="assets/Calendar.svg" alt="" />
                    <p>01/01/2024</p>
                  </div>
                </div>
              </div>
            </div>
            <!---time--->
            <div>
              <button>Location</button>
            </div>
            <!---volunteer--->
            <div class="details-volunteer">
              <div class="details-volunteer-header">
                <p class="details-class">Volunteers Needed</p>
                <p class="volunteers-needed">124</p>
              </div>
              <div class="details-volunteer-header">
                <h4 class="details-class">Extended Message</h4>
                <p class="details-message">
                  Join us in cleaning up the park and promoting environmental
                  awareness. Join us in cleaning up the park and promoting
                  environmental awareness. Join us in cleaning up the park and
                  promoting environmental awareness.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal for Google Maps -->
    <div id="mapModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Project Location</h3>
          <span class="close" id="closeModal">&times;</span>
        </div>
        <div class="modal-body">
          <div id="map" class="map-container"></div>
          <div class="location-details">
            <div class="location-info">
              <img src="assets/location.svg" alt="Location" />
              <div>
                <h4>Central Park</h4>
                <p>New York, NY 10024, USA</p>
              </div>
            </div>
            <button class="get-directions" onclick="openDirections()">
              Get Directions
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Google Maps JavaScript API -->
    <script
      src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap"
      async
      defer
    ></script>

    <script>
      let map;
      const modal = document.getElementById("mapModal");
      const closeBtn = document.getElementById("closeModal");

      // Project location coordinates (Central Park example)
      const projectLocation = {
        lat: 40.7829,
        lng: -73.9654,
      };

      // Initialize Google Map
      function initMap() {
        map = new google.maps.Map(document.getElementById("map"), {
          zoom: 15,
          center: projectLocation,
          styles: [
            {
              featureType: "all",
              elementType: "geometry.fill",
              stylers: [{ color: "#f5f4f1" }],
            },
            {
              featureType: "water",
              elementType: "geometry.fill",
              stylers: [{ color: "#77deb3" }],
            },
            {
              featureType: "road",
              elementType: "geometry.stroke",
              stylers: [{ color: "#1dac7a" }],
            },
          ],
        });

        // Add marker for project location
        const marker = new google.maps.Marker({
          position: projectLocation,
          map: map,
          title: "Project Location: Central Park",
          animation: google.maps.Animation.DROP,
          icon: {
            url:
              "data:image/svg+xml;charset=UTF-8," +
              encodeURIComponent(`
              <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="20" cy="20" r="18" fill="#1dac7a" stroke="#ffffff" stroke-width="4"/>
                <circle cx="20" cy="20" r="8" fill="#ffffff"/>
              </svg>
            `),
            scaledSize: new google.maps.Size(40, 40),
            anchor: new google.maps.Point(20, 20),
          },
        });

        // Add info window
        const infoWindow = new google.maps.InfoWindow({
          content: `
            <div style="padding: 10px; font-family: 'Inter', sans-serif;">
              <h4 style="margin: 0 0 5px 0; color: #313d44;">Project Location</h4>
              <p style="margin: 0; color: #1dac7a;">Central Park Environmental Cleanup</p>
            </div>
          `,
        });

        marker.addListener("click", () => {
          infoWindow.open(map, marker);
        });
      }

      // Modal functionality
      function openMapModal() {
        modal.style.display = "block";
        document.body.style.overflow = "hidden";

        // Trigger map resize to ensure proper rendering
        setTimeout(() => {
          if (map) {
            google.maps.event.trigger(map, "resize");
            map.setCenter(projectLocation);
          }
        }, 300);
      }

      function closeMapModal() {
        modal.style.display = "none";
        document.body.style.overflow = "auto";
      }

      // Event listeners
      closeBtn.addEventListener("click", closeMapModal);

      window.addEventListener("click", (event) => {
        if (event.target === modal) {
          closeMapModal();
        }
      });

      // ESC key to close modal
      document.addEventListener("keydown", (event) => {
        if (event.key === "Escape" && modal.style.display === "block") {
          closeMapModal();
        }
      });

      // Open directions in new tab
      function openDirections() {
        const destination = `${projectLocation.lat},${projectLocation.lng}`;
        const url = `https://www.google.com/maps/dir/?api=1&destination=${destination}`;
        window.open(url, "_blank");
      }

      // Add click event to location button
      document.addEventListener("DOMContentLoaded", function () {
        const locationButton = document.querySelector(
          ".details-location button"
        );
        if (locationButton) {
          locationButton.addEventListener("click", openMapModal);
        }
      });
    </script>
  </body>
</html>
